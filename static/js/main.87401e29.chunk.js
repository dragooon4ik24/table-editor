(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{255:function(e,t,a){e.exports=a(622)},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){"use strict";a.r(t);a(256),a(265);var n=a(1),o=a.n(n),l=a(253),c=a.n(l),r=(a(453),a(11)),s=a(106),i=a(107),m=a(109),u=a(108);a(454),a(455);function d(e){var t=e.name,a=e.type,n=e.color,l=e.onRemoveClick,c=e.onEditClick;return o.a.createElement("tr",{className:"TableRow"},o.a.createElement("td",null,t),o.a.createElement("td",null,a),o.a.createElement("td",null,o.a.createElement("div",{className:"TableRow-Color",style:{backgroundColor:"".concat(n)}})),o.a.createElement("td",{className:"TableRow-Controls"},o.a.createElement("button",{className:"TableRow-Button TableRow-Button_edit",type:"button",onClick:c}),o.a.createElement("button",{className:"TableRow-Button TableRow-Button_remove",type:"button",onClick:l})))}var p=[{name:"name1",type:"main",color:"#000000"},{name:"name2",type:"side",color:"#f8f8f8"},{name:"name3",type:"section",color:"#ff0000"},{name:"name4",type:"header",color:"#ff00ff"}],h=function(e,t){return e.name>t.name?1:e.name<t.name?-1:0},b=function(e,t){return e.name<t.name?1:e.name>t.name?-1:0},E=a(254),f=(a(621),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={name:"",type:"main",color:"white",isValidate:!0},e.componentDidMount=function(){if(document.addEventListener("keydown",e.handleDocumentEscPress),e.props.row){var t=e.props.row,a=t.name,n=t.type,o=t.color;e.setState({name:a,type:n,color:o,isValidate:!0})}},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.handleDocumentEscPress)},e.handleDocumentEscPress=function(t){27===t.keyCode&&e.props.onClose()},e.handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e.handleInputNameChange=function(t){var a=t.target.value;e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{name:a})}))},e.handleInputTypeChange=function(t){var a=t.target.value;e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{type:a})}))},e.handleColorChange=function(t){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{color:t.hex})}))},e.handleColorChangeComplete=function(t){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{color:t.hex})}))},e.handleSubmitButtonClick=function(t){t.preventDefault(),e.state.name?(e.props.onClose(),e.props.onSubmit(e.state)):e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{isValidate:!1})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"Modal",onClick:this.handleOverlayClick},o.a.createElement("div",{className:"Modal-Wrapper"},o.a.createElement("div",{className:"Modal-Header"},o.a.createElement("h2",{className:"Modal-Title"},"".concat(this.props.title," \u0434\u0430\u043d\u043d\u044b\u0445"))),o.a.createElement("form",{className:"Modal-Form",noValidate:!0},o.a.createElement("div",{className:"Modal-FormWrapper"},o.a.createElement("div",{className:"Modal-InputWrapper"},o.a.createElement("label",{className:"Modal-Input",htmlFor:"name"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),o.a.createElement("input",{id:"name",type:"text",name:"name",value:this.state.name,onChange:this.handleInputNameChange,required:!0}),this.state.isValidate?null:o.a.createElement("p",{className:"Modal-Error"},"*\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f")),o.a.createElement("div",{className:"Modal-InputWrapper"},o.a.createElement("label",{className:"Modal-Input",htmlFor:"type"},"\u0422\u0438\u043f"),o.a.createElement("select",{id:"type",type:"text",name:"type",value:this.state.type,onChange:this.handleInputTypeChange},o.a.createElement("option",{defaultValue:!0,value:"main"},"main"),o.a.createElement("option",{value:"side"},"side"),o.a.createElement("option",{value:"section"},"section"),o.a.createElement("option",{value:"header"},"header")))),o.a.createElement("div",{className:"Modal-ColorWrapper"},o.a.createElement("label",{className:"Modal-Input_color",htmlFor:"color"},"\u0426\u0432\u0435\u0442:"),o.a.createElement("input",{id:"color",type:"hidden",name:"color",required:!0,value:this.state.color}),o.a.createElement("div",{className:"Modal-Color",style:{backgroundColor:"".concat(this.state.color)}})),o.a.createElement(E.SketchPicker,{disableAlpha:!0,color:this.state.color,onChange:this.handleColorChange,onChangeComplete:this.handleColorChangeComplete}),o.a.createElement("div",{className:"Modal-Actions"},o.a.createElement("button",{className:"CommonButton",type:"button",onClick:this.props.onClose},"\u041e\u0442\u043c\u0435\u043d\u0430"),o.a.createElement("button",{className:"CommonButton",type:"submit",onClick:this.handleSubmitButtonClick},this.props.buttonName)))))}}]),a}(o.a.Component)),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={data:p,isSort:!0,isModalOpen:!1,editedRow:null},e.handleRemoveButtonClick=function(t){var a=e.state.data.indexOf(t);e.setState((function(e){var t=e.data.slice();return t.splice(a,1),Object(r.a)(Object(r.a)({},e),{},{data:t})}))},e.handleEditButtonClick=function(t){var a=e.state.data.indexOf(t);e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{isModalOpen:!0,editedRow:e.data[a]})}))},e.handleSaveButtonClick=function(){localStorage.setItem("tableEditorData",JSON.stringify(e.state.data))},e.handleSortButtonClick=function(){e.setState((function(e){return{data:e.isSort?e.data.slice().sort(b):e.data.slice().sort(h),isSort:!e.isSort}}))},e.handleOpenModal=function(){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{isModalOpen:!0})}))},e.handleCloseModal=function(){e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{isModalOpen:!1,editedRow:null})}))},e.handleSubmit=function(t){var a={name:t.name,type:t.type,color:t.color};if(e.setState((function(t){if(t.editedRow){var n=e.state.data.indexOf(e.state.editedRow),o=t.data.slice();return o.splice(n,1,a),Object(r.a)(Object(r.a)({},t),{},{data:o})}var l=t.data.slice();return l.push(a),l.sort(h),Object(r.a)(Object(r.a)({},t),{},{data:l})})),e.state.editedRow){var n=e.state.data.indexOf(e.state.editedRow);e.setState((function(e){var t=e.data.slice();return t.splice(n,1),Object(r.a)(Object(r.a)({},e),{},{data:t})}))}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("tableEditorData");e&&this.setState((function(t){return Object(r.a)(Object(r.a)({},t),{},{data:JSON.parse(e).sort(h)})}))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Table"},o.a.createElement("table",{className:"Table-Content"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"Table-HeadRow"},o.a.createElement("th",null,o.a.createElement("button",{className:"Table-Name ".concat(this.state.isSort?"":"Table-Name_unsorted"),onClick:this.handleSortButtonClick,type:"button"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),o.a.createElement("th",{className:"Table-Type"},"\u0422\u0438\u043f"),o.a.createElement("th",{className:"Table-Color"},"\u0426\u0432\u0435\u0442"),o.a.createElement("th",{className:"Table-Controls"},"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"))),o.a.createElement("tbody",null,this.state.data.length?this.state.data.map((function(t,a){return o.a.createElement(d,{key:"".concat(t.name).concat(a),name:t.name,type:t.type,color:t.color,onRemoveClick:function(){return e.handleRemoveButtonClick(t)},onEditClick:function(){return e.handleEditButtonClick(t)}})})):o.a.createElement("tr",null,o.a.createElement("td",{className:"Table-Empty",colSpan:"4"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")))),o.a.createElement("div",{className:"Table-Actions"},o.a.createElement("button",{className:"Table-Button CommonButton",type:"button",onClick:this.handleOpenModal},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),o.a.createElement("button",{className:"Table-Button CommonButton",type:"button",onClick:this.handleSaveButtonClick},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),this.state.isModalOpen&&this.state.editedRow?o.a.createElement(f,{title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",buttonName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",row:this.state.editedRow,onClose:this.handleCloseModal,onSubmit:this.handleSubmit}):this.state.isModalOpen?o.a.createElement(f,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435",buttonName:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onClose:this.handleCloseModal,onSubmit:this.handleSubmit}):null)}}]),a}(o.a.Component);var v=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Container"},o.a.createElement("section",{className:"TableEditor"},o.a.createElement("h1",{className:"TableEditor-Title"},"\u0422\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440"),o.a.createElement(C,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.87401e29.chunk.js.map